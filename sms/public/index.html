<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="pageTitle">рдзреЛрд░рдг рдЕрджреНрдпрддрдиреЗ - рд╢реЗрддрд╕рд╛рд░рдереА</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons (for potential use) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Custom Styles (Aligned with Edu-Farm) -->
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #f5f7e8 0%, #c7e2b2 100%);
      margin: 0;
      padding-top: 70px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      background: #fff;
      border-bottom: 1px solid #e0e0e0;
      box-shadow: 0 2px 10px rgba(0, 100, 0, 0.1);
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
    }
    .navbar-brand h3 {
      margin: 0;
      font-weight: 700;
      color: #008000;
    }
    .btn-success {
      background-color: #4a704a;
      border-color: #4a704a;
    }
    .btn-success:hover {
      background-color: #2e5e2e;
      border-color: #2e5e2e;
    }
    .main-content {
      flex: 1;
      padding: 40px 20px;
    }
    .container {
      background: rgba(255, 245, 224, 0.95);
      border-radius: 15px;
      padding: 30px;
      max-width: 800px;
      margin: 0 auto;
      box-shadow: 0 8px 32px rgba(0, 100, 0, 0.2);
      transition: transform 0.3s ease;
    }
    .container:hover {
      transform: translateY(-5px);
    }
    h2 {
      color: #2e5e2e;
      font-weight: 600;
      margin-bottom: 25px;
      text-align: center;
    }
    .input-group {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 20px;
    }
    .form-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .form-group label {
      font-weight: 500;
      min-width: 150px;
      color: #2e5e2e;
    }
    input, select, button {
      padding: 12px 15px;
      border: 2px solid #8a9a5b;
      border-radius: 8px;
      font-size: 1em;
      background-color: #fffdf5;
    }
    select:focus, input:focus {
      border-color: #4a704a;
      box-shadow: 0 0 5px rgba(74, 112, 74, 0.5);
      outline: none;
    }
    button {
      background-color: #4a704a;
      color: white;
      border: none;
      transition: background-color 0.3s, transform 0.2s;
    }
    button:hover {
      background-color: #2e5e2e;
      transform: scale(1.05);
    }
    .button-group {
      display: flex;
      gap: 15px;
      margin-top: 20px;
      justify-content: center;
    }
    .policy-section {
      margin-bottom: 25px;
      padding: 20px;
      background: #fffdf5;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 100, 0, 0.1);
    }
    .policy-section h3 {
      color: #2e5e2e;
      margin-bottom: 15px;
      font-size: 1.3rem;
      font-weight: 600;
      border-bottom: 2px solid #2e5e2e;
      padding-bottom: 5px;
    }
    .policy-section p {
      font-size: 1rem;
      line-height: 1.6;
      color: #333;
    }
    .status {
      margin-top: 15px;
      font-size: 1rem;
      line-height: 1.6;
      color: #333;
      text-align: center;
    }
    footer {
      background: #2e5e2e;
      color: #fffdf5;
      text-align: center;
      padding: 15px 0;
      margin-top: auto;
    }
    @media (max-width: 768px) {
      .button-group {
        flex-direction: column;
      }
      .form-group {
        flex-direction: column;
        align-items: flex-start;
      }
      .form-group label {
        min-width: auto;
        margin-bottom: 5px;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation Bar -->
  <header>
    <nav class="navbar navbar-expand-lg navbar-light py-1">
      <div class="container-fluid" style="max-width: 1200px; padding: 0 20px;">
        <a class="navbar-brand me-2" href="#"><h3 id="headerTitle">рд╢реЗрддрд╕рд╛рд░рдереА</h3></a>
        <div class="d-flex align-items-center ms-auto">
          <select id="languageSelect" class="form-select me-2" onchange="toggleLanguage()">
            <option value="en">English</option>
            <option value="mr" selected>рдорд░рд╛рдареА</option>
            <option value="hi">рд╣рд┐рдиреНрджреА</option>
          </select>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <div class="main-content">
    <div class="container">
      <h2 id="appTitle">рдзреЛрд░рдг рдЕрджреНрдпрддрдиреЗ</h2>
      <div class="policy-section">
        <h3 id="policyTitle">рдирд╡реАрдирддрдо рд╕рд░рдХрд╛рд░реА рдзреЛрд░рдг рдЕрджреНрдпрддрдиреЗ</h3>
        <p id="policyText">ЁЯМ╛ <strong>рдирд╡реАрди рдЕрдиреБрджрд╛рди рд╕реВрдЪрдирд╛!</strong><br>рд╕рд░рдХрд╛рд░ <em>рд╕реЗрдВрджреНрд░рд┐рдп рд╢реЗрддреА</em> рд╕рд╛рдареА <strong>рдЖрд░реНрдерд┐рдХ рд╕рд╣рд╛рдпреНрдп</strong> рд╕реБрд░реВ рдХрд░рдд рдЖрд╣реЗред<br>ЁЯЪЬ <strong>рдЖрддрд╛ рдХреГрддреА рдХрд░рд╛:</strong> рдЖрдЬрдЪ рдЕрд░реНрдЬ рдХрд░рд╛ рдЖрдгрд┐ рд╣реЗ рдЖрдХрд░реНрд╖рдХ рд▓рд╛рдн рдорд┐рд│рд╡рд╛!<br>ЁЯУЕ <strong>рдЕрдВрддрд┐рдо рдореБрджрдд:</strong> рейрез рдбрд┐рд╕реЗрдВрдмрд░ тАУ рд╣реА рд╕рдВрдзреА рд╣рд╛рддреВрди рдЬрд╛рдК рджреЗрдК рдирдХрд╛!</p>
      </div>
      <div class="input-group">
        <div class="form-group">
          <label for="phoneNumber" id="phoneLabel">рдлреЛрди рдирдВрдмрд░:</label>
          <input type="text" id="phoneNumber" placeholder="рдЖрдкрд▓рд╛ рдлреЛрди рдирдВрдмрд░ рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛" required>
        </div>
        <div class="form-group">
          <label for="preferredTime" id="timeLabel">рдкреНрд░рд╛рдзрд╛рдиреНрдп рд╡реЗрд│:</label>
          <input type="text" id="preferredTime" placeholder="HH:MM AM/PM, рдЙрджрд╛., 02:30 PM" required>
        </div>
      </div>
      <div class="button-group">
        <button type="button" id="subscribeButton" class="btn btn-success">рдЖрддрд╛ рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдм рдХрд░рд╛</button>
      </div>
      <div id="status" class="status"></div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p id="footerText">┬й реирежреирел рд╢реЗрддрд╕рд╛рд░рдереА. рд╕рд░реНрд╡ рд╣рдХреНрдХ рд░рд╛рдЦреАрд╡.</p>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Translations
    const translations = {
      en: {
        headerTitle: "Shetsarathi",
        appTitle: "Policy Updates",
        pageTitle: "Policy Updates - Shetsarathi",
        policyTitle: "Latest Government Policy Updates",
        policyText: "ЁЯМ╛ <strong>New Subsidy Alert!</strong><br>The government is rolling out <strong>financial assistance</strong> for <em>organic farming</em>.<br>ЁЯЪЬ <strong>Act Now:</strong> Apply today to unlock these exciting benefits!<br>ЁЯУЕ <strong>Deadline:</strong> 31st December тАУ DonтАЩt let this opportunity slip away!",
        phoneLabel: "Phone Number:",
        phonePlaceholder: "Enter your phone number",
        timeLabel: "Preferred Time:",
        timePlaceholder: "HH:MM AM/PM, e.g., 02:30 PM",
        subscribeButton: "Subscribe Now",
        subscribing: "Subscribing...",
        successMessage: "Successfully subscribed!",
        errorMessage: "Error subscribing. Please try again.",
        missingFields: "Please enter both a phone number and a preferred time.",
        invalidTime: "Please enter time in HH:MM AM/PM format, e.g., 02:30 PM.",
        footerText: "┬й 2025 Shetsarathi. All rights reserved."
      },
      mr: {
        headerTitle: "рд╢реЗрддрд╕рд╛рд░рдереА",
        appTitle: "рдзреЛрд░рдг рдЕрджреНрдпрддрдиреЗ",
        pageTitle: "рдзреЛрд░рдг рдЕрджреНрдпрддрдиреЗ - рд╢реЗрддрд╕рд╛рд░рдереА",
        policyTitle: "рдирд╡реАрдирддрдо рд╕рд░рдХрд╛рд░реА рдзреЛрд░рдг рдЕрджреНрдпрддрдиреЗ",
        policyText: "ЁЯМ╛ <strong>рдирд╡реАрди рдЕрдиреБрджрд╛рди рд╕реВрдЪрдирд╛!</strong><br>рд╕рд░рдХрд╛рд░ <em>рд╕реЗрдВрджреНрд░рд┐рдп рд╢реЗрддреА</em> рд╕рд╛рдареА <strong>рдЖрд░реНрдерд┐рдХ рд╕рд╣рд╛рдпреНрдп</strong> рд╕реБрд░реВ рдХрд░рдд рдЖрд╣реЗред<br>ЁЯЪЬ <strong>рдЖрддрд╛ рдХреГрддреА рдХрд░рд╛:</strong> рдЖрдЬрдЪ рдЕрд░реНрдЬ рдХрд░рд╛ рдЖрдгрд┐ рд╣реЗ рдЖрдХрд░реНрд╖рдХ рд▓рд╛рдн рдорд┐рд│рд╡рд╛!<br>ЁЯУЕ <strong>рдЕрдВрддрд┐рдо рдореБрджрдд:</strong> рейрез рдбрд┐рд╕реЗрдВрдмрд░ тАУ рд╣реА рд╕рдВрдзреА рд╣рд╛рддреВрди рдЬрд╛рдК рджреЗрдК рдирдХрд╛!",
        phoneLabel: "рдлреЛрди рдирдВрдмрд░:",
        phonePlaceholder: "рдЖрдкрд▓рд╛ рдлреЛрди рдирдВрдмрд░ рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛",
        timeLabel: "рдкреНрд░рд╛рдзрд╛рдиреНрдп рд╡реЗрд│:",
        timePlaceholder: "HH:MM AM/PM, рдЙрджрд╛., 02:30 PM",
        subscribeButton: "рдЖрддрд╛ рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдм рдХрд░рд╛",
        subscribing: "рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдм рдХрд░рдд рдЖрд╣реЗ...",
        successMessage: "рдпрд╢рд╕реНрд╡реАрд░рд┐рддреНрдпрд╛ рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдм рдЭрд╛рд▓реЗ!",
        errorMessage: "рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдм рдХрд░рддрд╛рдирд╛ рддреНрд░реБрдЯреА. рдХреГрдкрдпрд╛ рдкреБрдиреНрд╣рд╛ рдкреНрд░рдпрддреНрди рдХрд░рд╛.",
        missingFields: "рдХреГрдкрдпрд╛ рдлреЛрди рдирдВрдмрд░ рдЖрдгрд┐ рдкреНрд░рд╛рдзрд╛рдиреНрдп рд╡реЗрд│ рджреЛрдиреНрд╣реА рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛.",
        invalidTime: "рдХреГрдкрдпрд╛ рд╡реЗрд│ HH:MM AM/PM рд╕реНрд╡рд░реВрдкрд╛рдд рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛, рдЙрджрд╛., 02:30 PM.",
        footerText: "┬й реирежреирел рд╢реЗрддрд╕рд╛рд░рдереА. рд╕рд░реНрд╡ рд╣рдХреНрдХ рд░рд╛рдЦреАрд╡."
      },
      hi: {
        headerTitle: "рд╢реЗрддрд╕рд╛рд░рдереА",
        appTitle: "рдиреАрддрд┐ рдЕрдкрдбреЗрдЯ",
        pageTitle: "рдиреАрддрд┐ рдЕрдкрдбреЗрдЯ - рд╢реЗрддрд╕рд╛рд░рдереА",
        policyTitle: "рдирд╡реАрдирддрдо рд╕рд░рдХрд╛рд░реА рдиреАрддрд┐ рдЕрдкрдбреЗрдЯ",
        policyText: "ЁЯМ╛ <strong>рдирдИ рд╕рдмреНрд╕рд┐рдбреА рдЕрд▓рд░реНрдЯ!</strong><br>рд╕рд░рдХрд╛рд░ <em>рдЬреИрд╡рд┐рдХ рдЦреЗрддреА</em> рдХреЗ рд▓рд┐рдП <strong>рд╡рд┐рддреНрддреАрдп рд╕рд╣рд╛рдпрддрд╛</strong> рд╢реБрд░реВ рдХрд░ рд░рд╣реА рд╣реИред<br>ЁЯЪЬ <strong>рдЕрднреА рдХрд░реЗрдВ:</strong> рдЖрдЬ рд╣реА рдЖрд╡реЗрджрди рдХрд░реЗрдВ рдФрд░ рдЗрди рд╢рд╛рдирджрд╛рд░ рд▓рд╛рднреЛрдВ рдХреЛ рд╣рд╛рд╕рд┐рд▓ рдХрд░реЗрдВ!<br>ЁЯУЕ <strong>рдЕрдВрддрд┐рдо рддрд┐рдерд┐:</strong> рейрез рджрд┐рд╕рдВрдмрд░ тАУ рдЗрд╕ рдЕрд╡рд╕рд░ рдХреЛ рд╣рд╛рде рд╕реЗ рди рдЬрд╛рдиреЗ рджреЗрдВ!",
        phoneLabel: "рдлреЛрди рдирдВрдмрд░:",
        phonePlaceholder: "рдЕрдкрдирд╛ рдлреЛрди рдирдВрдмрд░ рджрд░реНрдЬ рдХрд░реЗрдВ",
        timeLabel: "рдкрд╕рдВрджреАрджрд╛ рд╕рдордп:",
        timePlaceholder: "HH:MM AM/PM, рдЬреИрд╕реЗ, 02:30 PM",
        subscribeButton: "рдЕрднреА рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдм рдХрд░реЗрдВ",
        subscribing: "рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдм рдХрд░ рд░рд╣реЗ рд╣реИрдВ...",
        successMessage: "рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдм рдХрд┐рдпрд╛ рдЧрдпрд╛!",
        errorMessage: "рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдм рдХрд░рдиреЗ рдореЗрдВ рддреНрд░реБрдЯрд┐ред рдХреГрдкрдпрд╛ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред",
        missingFields: "рдХреГрдкрдпрд╛ рдлреЛрди рдирдВрдмрд░ рдФрд░ рдкрд╕рдВрджреАрджрд╛ рд╕рдордп рджреЛрдиреЛрдВ рджрд░реНрдЬ рдХрд░реЗрдВред",
        invalidTime: "рдХреГрдкрдпрд╛ рд╕рдордп HH:MM AM/PM рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рджрд░реНрдЬ рдХрд░реЗрдВ, рдЬреИрд╕реЗ 02:30 PMред",
        footerText: "┬й реирежреирел рд╢реЗрддрд╕рд╛рд░рдереАред рд╕рд░реНрд╡рд╛рдзрд┐рдХрд╛рд░ рд╕реБрд░рдХреНрд╖рд┐рддред"
      }
    };

    // Utility Functions
    function convertToLanguageNumbers(text, lang) {
      if (lang === "mr") {
        const marathiDigits = ["реж", "рез", "реи", "рей", "рек", "рел", "рем", "рен", "рео", "реп"];
        return text.replace(/[0-9]/g, digit => marathiDigits[digit]);
      } else if (lang === "hi") {
        const hindiDigits = ["реж", "рез", "реи", "рей", "рек", "рел", "рем", "рен", "рео", "реп"];
        return text.replace(/[0-9]/g, digit => hindiDigits[digit]);
      }
      return text; // English uses standard digits
    }

    // Toggle language
    function toggleLanguage() {
      const lang = document.getElementById("languageSelect").value;
      const t = translations[lang];

      document.getElementById("pageTitle").innerText = t.pageTitle;
      document.getElementById("headerTitle").innerText = t.headerTitle;
      document.getElementById("appTitle").innerText = t.appTitle;
      document.getElementById("policyTitle").innerText = t.policyTitle;
      document.getElementById("policyText").innerHTML = t.policyText.replace("рейрез", convertToLanguageNumbers("31", lang));
      document.getElementById("phoneLabel").innerText = t.phoneLabel;
      document.getElementById("phoneNumber").placeholder = t.phonePlaceholder;
      document.getElementById("timeLabel").innerText = t.timeLabel;
      document.getElementById("preferredTime").placeholder = t.timePlaceholder;
      document.getElementById("subscribeButton").innerText = t.subscribeButton;
      document.getElementById("footerText").innerText = t.footerText.replace("реирежреирел", convertToLanguageNumbers("2025", lang));
    }

    // Subscription logic
    document.getElementById('subscribeButton').addEventListener('click', function() {
      const phoneNumber = document.getElementById('phoneNumber').value.trim();
      const preferredTime = document.getElementById('preferredTime').value.trim();
      const language = document.getElementById('languageSelect').value;
      const statusMessage = document.getElementById('status');
      const t = translations[language];

      // Validate inputs
      if (!phoneNumber || !preferredTime) {
        statusMessage.innerText = t.missingFields;
        statusMessage.style.color = "red";
        return;
      }

      // Validate time format (HH:MM AM/PM)
      const timeRegex = /^(1[0-2]|0?[1-9]):([0-5][0-9])\s*(AM|PM)$/i;
      if (!timeRegex.test(preferredTime)) {
        statusMessage.innerText = t.invalidTime;
        statusMessage.style.color = "red";
        return;
      }

      // Normalize the time format
      const [time, period] = preferredTime.split(/\s+/);
      const [hours, minutes] = time.split(':');
      const normalizedTime = `${hours.padStart(2, '0')}:${minutes} ${period.toUpperCase()}`;

      statusMessage.innerText = t.subscribing;
      statusMessage.style.color = "#333";

      fetch('/subscribe', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ phoneNumber, time: normalizedTime, language })
      })
      .then(response => response.json())
      .then(data => {
        statusMessage.innerText = data.message === 'Successfully subscribed!' ? t.successMessage : data.message;
        statusMessage.style.color = data.message.includes("success") ? "green" : "red";
        if (data.message === 'Successfully subscribed!') {
          document.getElementById('phoneNumber').value = '';
          document.getElementById('preferredTime').value = '';
        }
      })
      .catch(error => {
        console.error('Error:', error);
        statusMessage.innerText = t.errorMessage;
        statusMessage.style.color = "red";
      });
    });

    // Initialize on load
    window.onload = () => {
      document.getElementById("languageSelect").value = 'mr'; // Default to Marathi
      toggleLanguage();
    };
  </script>
</body>
</html>